DROP DATABASE IF EXISTS societàcalcio;
CREATE DATABASE societàcalcio;
USE societàcalcio;




CREATE TABLE IF NOT EXISTS SOCIETA
(
       NOME VARCHAR(20) NOT NULL,
       sede VARCHAR(20) ,
       coloresociale VARCHAR(15),
       Posizione_Ranking_UEFA INT ,
       
       
       PRIMARY KEY(NOME)
       
);

CREATE TABLE IF NOT EXISTS SQUADRA
(   
	SIGLA VARCHAR (3) NOT NULL,
	Valore_di_Mercato FLOAT,
    NOME VARCHAR(20),
    PRIMARY KEY (SIGLA),
    FOREIGN KEY (NOME) REFERENCES SOCIETA(NOME)
 );

   
    
    
    CREATE TABLE IF NOT EXISTS SPONSOR 
    
    (
      Nome VARCHAR(20) NOT NULL,
      Costo FLOAT NOT NULL,
      PRIMARY KEY(Nome)
     );
     
     
   CREATE TABLE IF NOT EXISTS PUBBLICIZZA
   (
      NOME1 VARCHAR(20) NOT NULL,
      Nome VARCHAR(20) NOT NULL,
      
      FOREIGN KEY(NOME1) REFERENCES SOCIETA (NOME),
      FOREIGN KEY(Nome) REFERENCES SPONSOR (Nome) ON DELETE CASCADE
      
    );
     
CREATE TABLE IF NOT EXISTS BILANCIO_SOCIETARIO
(   
    CODBIL INT NOT NULL,
	Guadagno_Sponsor  FLOAT,
    Guadagno_Vendite  FLOAT,
    Spesa_acquisti    FLOAT,
    ANDAMENTO ENUM('IN CRESCITA','STABILE','IN RIBASSO') NOT NULL,
       PRIMARY KEY(CODBIL)
);

CREATE TABLE IF NOT EXISTS DIRIGENZA
(      CF INT(16) NOT NULL,
       ID INT NOT NULL,
       NOME VARCHAR(20),
       COGNOME VARCHAR(20),
       Direttore_sportivo TINYINT,
       Direttore_generale TINYINT,
       Amministratore_Delegato TINYINT,
       PRIMARY KEY(ID)
       
);
   
   CREATE TABLE IF NOT EXISTS TELEFONO
   (
   NUMERO CHAR(10) NOT NULL,
   ID INT NOT NULL,
   
   PRIMARY KEY(NUMERO),
   FOREIGN KEY (ID) REFERENCES DIRIGENZA(ID) on delete cascade
   
   
   );

CREATE TABLE IF NOT EXISTS  PRESIDENTE
(      
       CF CHAR(16) NOT NULL,
       nome VARCHAR(10) NOT NULL,
	   Inizio_carriera VARCHAR(20)  ,
       Disponibilità_finanziaria INT ,
       NOMES VARCHAR(20) NOT NULL,
       ID INT NOT NULL,
       PRIMARY KEy(CF),
       FOREIGN KEY (NOMES) REFERENCES SOCIETA(NOME),
       FOREIGN KEY (ID) REFERENCES DIRIGENZA(ID)
);



CREATE TABLE IF NOT EXISTS  PARTITA
(

	COD CHAR(5) NOT NULL,
    Pdata VARCHAR(20) NOT NULL,
    Incasso FLOAT NOT NULL,
    Luogo  VARCHAR(30) NOT NULL,
    Risultato VARCHAR(5)  NOT NULL,
    Squadra_avversaria VARCHAR(20) NOT NULL,
     PRIMARY KEY(COD)
    
  );
  
  
   CREATE TABLE IF NOT EXISTS  CALCIATORE
  (    
      CF CHAR(16) NOT NULL,
      Nome VARCHAR(15) NOT NULL,
      Cognome VARCHAR(20) NOT NULL,
      Ruolo VARCHAR(20) NOT NULL,
      Numero_maglia INT  NOT NULL,
      Importanza VARCHAR(15) NOT NULL,
      SIGLA VARCHAR(3) NOT NULL,
      
       PRIMARY KEY(CF),
        FOREIGN KEY(SIGLA) REFERENCES SQUADRA(SIGLA)
	                 
       
   );
  

    
 
 CREATE TABLE IF NOT EXISTS  DISPUTA
 (
    SIGLA VARCHAR(3) NOT NULL,
    COD VARCHAR(5) NOT NULL,
    FOREIGN KEY (COD) REFERENCES PARTITA(COD),
    FOREIGN KEY (SIGLA) REFERENCES SQUADRA(SIGLA)
    
  );  
  
  
  CREATE TABLE IF NOT EXISTS UTENTE
  
  (
    CF CHAR(16) NOT NULL,
     Cognome VARCHAR(20),
     Nome VARCHAR(20),
   Mail VARCHAR(50),
    UsernameC CHAR(30) NOT NULL,
   Psw CHAR(60) NOT NULL,
   Admin Tinyint NOT NULL,

PRIMARY KEY(CF)
);

 CREATE TABLE IF NOT EXISTS ABBONAMENTI
(

 ID INT(99) NOT NULL,
 PERIODO VARCHAR(20) NOT NULL,
 PREZZO  FLOAT(5) NOT NULL,
 PRIMARY KEY (ID)
 );
 
 CREATE TABLE IF NOT EXISTS ordine(
Codice INT NOT NULL,
Data CHAR(10),
Ora VARCHAR(5),
ID INT(99) NOT NULL,
CF CHAR(16) NOT NULL,
PRIMARY KEY(Codice),

FOREIGN KEY (ID) REFERENCES ABBONAMENTI(ID),
FOREIGN KEY (CF) REFERENCES UTENTE(CF)
);
   
   
INSERT INTO UTENTE VALUES ('DIAPQL99A01F839X','IDA','PASQUALE','PASQUI@GMAIL.COM','IDA','PROVA','0');
INSERT INTO UTENTE VALUES ('DIAPQL94561F839X','SALVATORE','GIANNI','SALVI@GMAIL.COM','SALVA','PROVA1','1');   
     
     
     
INSERT INTO SOCIETA VALUES ('JUVENTUS','TORINO','BIANCONERO','5');

INSERT INTO  SQUADRA VALUES ('FCJ','983000000','JUVENTUS');


INSERT INTO  SPONSOR VALUES ('ADIDAS','30000000');
INSERT INTO  SPONSOR VALUES ('JEEP','20000000');
INSERT INTO  SPONSOR VALUES ('BALOCCO','8000000');
INSERT INTO  SPONSOR VALUES ('SAMSUNG','1000000');

INSERT INTO PUBBLICIZZA VALUES ('JUVENTUS','ADIDAS');
INSERT INTO PUBBLICIZZA VALUES ('JUVENTUS','JEEP');
INSERT INTO PUBBLICIZZA VALUES ('JUVENTUS','BALOCCO');
INSERT INTO PUBBLICIZZA VALUES ('JUVENTUS','SAMSUNG');

INSERT INTO BILANCIO_SOCIETARIO VALUES('00','1380000','24500000','18000000','IN RIBASSO');
INSERT INTO BILANCIO_SOCIETARIO VALUES('0101','1380000','0','24800000','IN CRESCITA');
INSERT INTO BILANCIO_SOCIETARIO VALUES('0145','187665000','1234567892','223723400','IN CRESCITA');
INSERT INTO BILANCIO_SOCIETARIO VALUES('0165','185432','7345000','4320000','STABILE');



INSERT INTO PRESIDENTE VALUES ('AJ578936Y987','AGNELLI','2010','450000000','JUVENTUS','3456');


INSERT INTO PARTITA VALUES('000','10 SETTEMBRE 2017','3500000','TORINO','3-1','LAZIO');
INSERT INTO PARTITA VALUES('001','18 SETTEMBRE 2017','500000','BERGAMO','0-1','ATALANTA');
INSERT INTO PARTITA VALUES('002','25 SETTEMBRE 2017','4000000','TORINO','1-1','MILAN');
INSERT INTO PARTITA VALUES('003','2 OTTOBRE 2017',' 100250','CROTONE','0-4','CROTONE');
INSERT INTO PARTITA VALUES('004','8 OTTOBRE 2017',' 3700000','TORINO','3-2','SAMPDORIA');
INSERT INTO PARTITA VALUES('005','15 OTTOBRE 2017','400000','GENOVA','1-2','GENOA');
INSERT INTO PARTITA VALUES('006','22 OTTOBRE 2017','4000000','TORINO','4-1','EMPOLI');
INSERT INTO PARTITA VALUES('007','29 OTTOBRE 2017','15000','BOLOGNA','2-2','BOLOGNA');
INSERT INTO PARTITA VALUES('008','5 NOVEMBRE 2017','4400000','TORINO','2-0','SASSUOLO');
INSERT INTO PARTITA VALUES('009','12 NOVEMBRE 2017','3700000','FIRENZE','3-1','FIORENTINA');
INSERT INTO PARTITA VALUES('010','19 NOVEMBRE 2017','4500000','TORINO','5-1','PESCARA');
INSERT INTO PARTITA VALUES('011','26 NOVEMBRE 2017','500000','VERONA','1-1','CHIEVOVERONA');
INSERT INTO PARTITA VALUES('012','3 DICEMBRE 2017','4400000','TORINO','4-1','UDINESE');
INSERT INTO PARTITA VALUES('013','10 DICEMBRE 2017','6500000','MILANO','3-3','INTER');
INSERT INTO PARTITA VALUES('014','17 DICEMBRE 2017','320000','TORINO','2-1','CAGLIARI');
INSERT INTO PARTITA VALUES('015','24 DICEMBRE 2017','3500000','NAPOLI','1-1','NAPOLI');
INSERT INTO PARTITA VALUES('016','12 GENNAIO 2018','400000','TORINO','4-3','PALERMO');
INSERT INTO PARTITA VALUES('017','19 GENNAIO 2018','3500000','ROMA','1-0','ROMA');
INSERT INTO PARTITA VALUES('018','26 GENNAIO 2018','5500000','TORINO','1-1','TORINO');
INSERT INTO PARTITA VALUES('019','2 FEBBRAIO 2018','2800000','ROMA','0-1','LAZIO');
INSERT INTO PARTITA VALUES('020','9 FEBBRAIO 2018','3500000','TORINO','3-1','ATALANTA');
INSERT INTO PARTITA VALUES('021','16 FEBBRAIO 2018','7500000','MILANO','0-1','MILAN');
INSERT INTO PARTITA VALUES('022','23 FEBBRAIO 2018','300000','TORINO','4-0','CROTONE');
INSERT INTO PARTITA VALUES('023','2 MARZO 2018','500000','GENOVA','2-1','SAMPDORIA');
INSERT INTO PARTITA VALUES('024','9 MARZO 2018','3500000','TORINO','3-1','GENOA');
INSERT INTO PARTITA VALUES('025','16 MARZO 2018','2500000','EMPOLI','2-2','EMPOLI');


INSERT INTO CALCIATORE VALUES ('VQCPXB95B61A350N','GIANLUIGI','BUFFON','PORTIERE','1','CAPITANO','FCJ');
INSERT INTO CALCIATORE VALUES ('MBRMGM60R44L011L','LEONARDO','BONUCCI','DIFENSORE','19','PILASTRO','FCJ');
INSERT INTO CALCIATORE VALUES ('TGDTPF87D57C056C','CLAUDIO','MARCHISIO','CENTROCAMPISTA','8','VICECAPITANO','FCJ');
INSERT INTO CALCIATORE VALUES ('GHGMDT47D15H046J','HIGUAIN','GONZALO','ATTACCANTE','9','GOLEADOR','FCJ');
INSERT INTO CALCIATORE VALUES ('NGZYPM34M56G076K','STEFANO','STURARO','DIFENSORE','27','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('CPXXSY31M18B456Y','JUAN','CUADRADO','ATTACCANTE','7','VELOCISTA','FCJ');
INSERT INTO CALCIATORE VALUES ('YZALJD49C31L349Y','PAULO','DYBALA','ATTACCANTE','10','FANTASISTA','FCJ');
INSERT INTO CALCIATORE VALUES ('WBHSML30S17D804Z','SAMI','KHEDIRA','CENTROCAMPISTA','6','TITOLARE','FCJ');
INSERT INTO CALCIATORE VALUES ('VMLDSQ31M25C658J','GIORGIO','CHIELLINI','DIFENSORE','3','TITOLARE','FCJ');
INSERT INTO CALCIATORE VALUES ('GFWGVF57T70G302T','ANDREA','BARZAGLI','DIFENSORE','15','TITOLARE','FCJ');
INSERT INTO CALCIATORE VALUES ('SXBSVN65E28C866M','ALEX','SANDRO','DIFENSORE','12','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('JXMPVR63T31C004V','NORBERTO','NETO','PORTIERE','25','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('ZTHHRF37B48G960U','DANIELE','RUGANI','DIFENSORE','24','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('HCLHTR56D22B347T','MEHDI','BENATIA','DIFENSORE','4','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('FCOVRX61E58B860Y','DANI','ALVES','DIFENSORE','23','TITOLARE','FCJ');
INSERT INTO CALCIATORE VALUES ('NTXDDH89C13I376D','STEPHAN','LICHSTEINER','DIFENSORE','26','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('LFZSLV65B51F452U','KWADWO','ASAMOAH','CENTROCAMPISTA','22','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('LCXBVP34B41E602S','MARIO','LEMINA','CENTROCAMPISTA','18','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('GWSPFB80T53E120A','MIRALEM','PJANIC','CENTROCAMPISTA','5','TITOLARE','FCJ');
INSERT INTO CALCIATORE VALUES ('MBUFQP38E55I287L','TOMAS','RINCON','CENTROCAMPISTA','28','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('BVYLRG49H04F131S','MARIO','MANDZUKIC','ATTACCANTE','17','RISERVA','FCJ');
INSERT INTO CALCIATORE VALUES ('LBLYVY72D51C030B','MARKO','PJACA','ATTACCANTE','20','RISERVA','FCJ');


INSERT INTO DISPUTA VALUES ('FCJ','000');
INSERT INTO DISPUTA VALUES ('FCJ','001');
INSERT INTO DISPUTA VALUES ('FCJ','002');
INSERT INTO DISPUTA VALUES ('FCJ','003');
INSERT INTO DISPUTA VALUES ('FCJ','004');
INSERT INTO DISPUTA VALUES ('FCJ','005');
INSERT INTO DISPUTA VALUES ('FCJ','006');
INSERT INTO DISPUTA VALUES ('FCJ','007');
INSERT INTO DISPUTA VALUES ('FCJ','008');
INSERT INTO DISPUTA VALUES ('FCJ','009');
INSERT INTO DISPUTA VALUES ('FCJ','010');
INSERT INTO DISPUTA VALUES ('FCJ','011');
INSERT INTO DISPUTA VALUES ('FCJ','012');
INSERT INTO DISPUTA VALUES ('FCJ','013');
INSERT INTO DISPUTA VALUES ('FCJ','014');
INSERT INTO DISPUTA VALUES ('FCJ','015');
INSERT INTO DISPUTA VALUES ('FCJ','016');
INSERT INTO DISPUTA VALUES ('FCJ','017');
INSERT INTO DISPUTA VALUES ('FCJ','018');
INSERT INTO DISPUTA VALUES ('FCJ','019');
INSERT INTO DISPUTA VALUES ('FCJ','020');
INSERT INTO DISPUTA VALUES ('FCJ','022');
INSERT INTO DISPUTA VALUES ('FCJ','023');
INSERT INTO DISPUTA VALUES ('FCJ','024');
INSERT INTO DISPUTA VALUES ('FCJ','025');
INSERT INTO DISPUTA VALUES ('FCJ','025');


INSERT INTO ABBONAMENTI VALUES ('001','ANNUALE','250');
INSERT INTO ABBONAMENTI VALUES  ('002','SEMESTRALE','200');
INSERT INTO ABBONAMENTI VALUES   ('003','TRIMESTRALE','150');
INSERT INTO ABBONAMENTI VALUES    ('004','MENSILE','60');
INSERT INTO ABBONAMENTI VALUES     ('005','BIGLIETTO','25');
   








